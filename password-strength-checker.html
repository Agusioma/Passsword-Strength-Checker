<html>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href= "https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
<style>
    .passwordInput{
        margin-top: 5%; 
        text-align :center;
    }

    .displayBadge{
        margin-top: 5%; 
        display: none; 
        text-align :center;
    }
</style>
<body>
    <p>
          <div class="d-flex text-danger justify-content-center">
              <ul style="list-style-type:none">
             <li class="fs-4" style="margin-top: 10%; text-align :center">
                Password Strength Checker
             </li>
               <li>
                <input id="0101" class="form-control passwordInput" type="password" placeholder="Type your password" id="inputPassword">
               </li>
               <li>
                <span id="0102" class="badge displayBadge">Weak</span>
               </li>
            </ul>
              </div>  
    </p>
           
</body>
    <script type="text/javascript">

        //timeout before a callback is called

        let timeout;

        //traversing the DOM and getting the input and span using their IDs

        let password = document.getElementById('0101')
        let strengthBadge = document.getElementById('0102')

        //The strong and weak password Regex pattern checker

        let strongPassword = new RegExp('(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^A-Za-z0-9])(?=.{8,})')
        let mediumPassword = new RegExp('((?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^A-Za-z0-9])(?=.{6,}))|((?=.*[a-z])(?=.*[A-Z])(?=.*[^A-Za-z0-9])(?=.{8,}))')

        //Adding an input event listener when a user types to the  password input 

        password.addEventListener("input", () => {

            //The badge is hidden by default, so we show it

            strengthBadge.style.display= 'block'
            clearTimeout(timeout);

            //We then call the StrengChecker function as a callback then pass the typed password to it

            timeout = setTimeout(() => StrengthChecker(password.value), 500);

            //Incase a user clears the text, the badge is hidden again

            if(password.value.length !== 0){
                strengthBadge.style.display != 'block'
            }else{
                strengthBadge.style.display = 'none'
            }
        });


        function StrengthChecker(PasswordParameter){

        //We then change the badge's colour and text based on the password strength

            if(strongPassword.test(PasswordParameter)){
                strengthBadge.style.backgroundColor = "green"
                strengthBadge.textContent = 'Strong'
            }else if(mediumPassword.test(PasswordParameter)){
                strengthBadge.style.backgroundColor = 'blue'
                strengthBadge.textContent = 'Medium'
            }else{
                strengthBadge.style.backgroundColor = 'red'
                strengthBadge.textContent = 'Weak'
            }

        }

    </script>
</html>
